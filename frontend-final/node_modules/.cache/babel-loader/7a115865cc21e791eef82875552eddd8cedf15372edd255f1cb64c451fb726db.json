{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/matthewlones/Documents/flask-react-app/frontend-final/src/components/ReplayMode.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REPLAY_OPTIONS = [{\n  id: 0,\n  name: \"Harvest the Plant\"\n}, {\n  id: 1,\n  name: \"Draw a Circle\"\n}, {\n  id: 2,\n  name: \"Wave Hello\"\n}];\nexport default function ReplayMode({\n  isMobile\n}) {\n  _s();\n  const [selectedId, setSelectedId] = useState(null);\n  const [status, setStatus] = useState(\"Idle\");\n  const [messages, setMessages] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [startTime, setStartTime] = useState(null);\n  const scrollRef = useRef(null);\n  const [latestCoord, setLatestCoord] = useState(null);\n  const [coordHistory, setCoordHistory] = useState([]);\n  const gridRef = useRef(null);\n  const startReplay = () => {\n    if (selectedId === null) return;\n    setStatus(\"Sending replay request...\");\n    setMessages([]);\n    setCoordHistory([]);\n    setLatestCoord(null);\n    setIsRunning(true);\n    setStartTime(Date.now());\n    fetch(\"/api/start-replay\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        index: selectedId\n      })\n    }).then(res => res.json()).then(data => {\n      if (data.success) {\n        setStatus(\"Replay started!\");\n      } else {\n        setStatus(\"‚ùå Failed to start replay.\");\n        setIsRunning(false);\n      }\n    }).catch(err => {\n      setStatus(\"‚ùå Error contacting server.\");\n      setIsRunning(false);\n    });\n  };\n  const clearLog = () => {\n    setMessages([]);\n    setCoordHistory([]);\n  };\n  useEffect(() => {\n    if (!isRunning) return;\n    const interval = setInterval(() => {\n      fetch(\"/api/replay-status\").then(res => res.json()).then(data => {\n        if (data.messages) {\n          setMessages(prev => {\n            const updated = [...prev, ...data.messages.map(msg => ({\n              ...msg,\n              timestamp: ((Date.now() - startTime) / 1000).toFixed(2) + \"s\"\n            }))];\n\n            // Find coordinate updates\n            const lastUpdate = data.messages.reverse().find(m => m.type === \"update\");\n            if (lastUpdate && lastUpdate.data) {\n              const correctedCoord = {\n                x: lastUpdate.data.y,\n                // üîÅ Swapped\n                y: lastUpdate.data.x,\n                // üîÅ Swapped\n                z: lastUpdate.data.z,\n                time: Date.now()\n              };\n              setLatestCoord(correctedCoord);\n              setCoordHistory(prev => [...prev, correctedCoord]);\n            }\n            return updated;\n          });\n        }\n        if (data.done) {\n          setStatus(\"‚úÖ Replay complete.\");\n          setIsRunning(false);\n          clearInterval(interval);\n        }\n      }).catch(err => {\n        setStatus(\"‚ùå Error polling status\");\n        setIsRunning(false);\n        clearInterval(interval);\n      });\n    }, 100);\n    return () => clearInterval(interval);\n  }, [isRunning, startTime]);\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Clean up old coordinate history points\n  useEffect(() => {\n    if (coordHistory.length > 10) {\n      const now = Date.now();\n      setCoordHistory(prev => prev.filter(coord => now - coord.time < 3000));\n    }\n  }, [coordHistory]);\n\n  // Convert grid coordinates to pixel positions\n  const coordToPixel = (x, y) => {\n    // Map x from [-30, 30] to [0, 100%] of grid width\n    // Map y from [0, 40] to [100%, 0] of grid height (inverted y-axis)\n\n    if (!gridRef.current) return {\n      x: 0,\n      y: 0\n    };\n    const gridWidth = gridRef.current.clientWidth;\n    const gridHeight = gridRef.current.clientHeight;\n\n    // Convert x from [-30, 30] to [0, 1] then to pixels\n    const normalizedX = (x + 30) / 60;\n    const pixelX = normalizedX * gridWidth;\n\n    // Convert y from [0, 40] to [1, 0] then to pixels (inverted)\n    const normalizedY = 1 - y / 40;\n    const pixelY = normalizedY * gridHeight;\n    return {\n      x: pixelX,\n      y: pixelY\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"bg-gradient-to-t from-black to-blue-950/90 border border-blue-500/30 shadow-2xl rounded-lg p-4 md:p-6 space-y-4 md:space-y-6 font-display\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl md:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 tracking-wide text-center\",\n      children: \"Replay Mode\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: REPLAY_OPTIONS.map(option => /*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: () => setSelectedId(option.id),\n        className: `block w-full text-left px-4 py-3 rounded-lg transition shadow-md border text-sm font-bold\n              ${selectedId === option.id ? \"bg-gradient-to-r from-blue-800 to-blue-900 text-white border-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.5)]\" : \"bg-blue-950/80 hover:bg-blue-900/60 border-blue-500/20 hover:border-blue-500/40\"}`,\n        disabled: isRunning,\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: option.name\n      }, option.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n      onClick: startReplay,\n      disabled: selectedId === null || isRunning,\n      className: \"w-full mt-4 bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-500 hover:to-emerald-600 text-white font-bold py-3 px-4 rounded-lg disabled:opacity-50 shadow-lg shadow-green-900/50 hover:shadow-green-500/30 hover:shadow-[0_0_20px_rgba(16,185,129,0.6)] disabled:shadow-none\",\n      whileHover: {\n        scale: 1.02\n      },\n      whileTap: {\n        scale: 0.98\n      },\n      children: isRunning ? \"Running...\" : \"Start Replay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n      onClick: clearLog,\n      className: \"w-full bg-gradient-to-r from-red-700 to-red-800 hover:from-red-600 hover:to-red-700 text-white py-2 px-2 mt-2 rounded-lg shadow-md shadow-red-900/50 hover:shadow-red-500/30 hover:shadow-[0_0_15px_rgba(239,68,68,0.5)] font-bold\",\n      disabled: messages.length === 0,\n      whileHover: {\n        scale: 1.02\n      },\n      whileTap: {\n        scale: 0.98\n      },\n      children: \"Clear Log\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 md:p-4 bg-black/80 rounded-lg text-sm max-h-48 md:max-h-64 overflow-y-auto border border-blue-500/30 shadow-inner\",\n      ref: scrollRef,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold text-cyan-300 mb-2\",\n        children: \"Replay Status:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1 text-blue-100\",\n        children: messages.map((msg, i) => {\n          if (msg.type === \"update\" && msg.data) {\n            // Swap x and y for display\n            const {\n              x: y,\n              y: x,\n              z\n            } = msg.data;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\uD83D\\uDD52\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-cyan-200\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\u27A4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-300 font-mono\",\n                children: [\"x: \", x, \", y: \", y, \", z: \", z]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this);\n          }\n          if (msg.type === \"bounds\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-yellow-300 flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\uD83D\\uDD52\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-cyan-200\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-yellow-300\",\n                children: \"\\u26A0\\uFE0F Out of bounds!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this);\n          }\n          if (msg.type === \"done\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-green-400 font-semibold flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\uD83D\\uDD52\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-cyan-200\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-green-400\",\n                children: \"\\u2705 Replay Complete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this);\n          }\n          if (msg.type === \"error\") {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"text-red-400 flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\uD83D\\uDD52\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-cyan-200\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400\",\n                children: [\"\\u274C Error: \", msg.message]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-gray-400 italic flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDD52\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-cyan-200\",\n              children: msg.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: JSON.stringify(msg)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 italic text-xs text-cyan-300\",\n        children: [\"Status: \", status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 bg-black/80 p-3 md:p-4 rounded-lg shadow-xl relative border border-blue-500/30\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold text-sm text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 mb-2\",\n        children: \"Live Position Grid (x vs y in cm)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: gridRef,\n        className: \"w-full h-48 md:h-64 bg-blue-950/50 rounded-lg relative border border-blue-500/30 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 grid grid-cols-6 grid-rows-4\",\n          children: [Array.from({\n            length: 7\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-r border-blue-500/20\"\n          }, `v-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)), Array.from({\n            length: 5\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-b border-blue-500/20\"\n          }, `h-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 flex justify-between px-2 text-xs text-blue-300/70\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"-30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"-20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 left-0 bottom-0 flex flex-col justify-between py-2 text-xs text-blue-300/70\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"40\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), coordHistory.map((coord, i) => {\n          const pos = coordToPixel(coord.x, coord.y);\n          return /*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"absolute w-2 h-2 bg-blue-400 rounded-full\",\n            style: {\n              left: pos.x - 4,\n              top: pos.y - 4\n            },\n            initial: {\n              opacity: 0,\n              scale: 0\n            },\n            animate: {\n              opacity: 1,\n              scale: 1\n            },\n            transition: {\n              duration: 0.3\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this);\n        }), latestCoord && /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"absolute w-4 h-4 bg-green-400 rounded-full shadow-lg shadow-green-500/50\",\n          style: {\n            left: coordToPixel(latestCoord.x, latestCoord.y).x - 8,\n            top: coordToPixel(latestCoord.x, latestCoord.y).y - 8\n          },\n          initial: {\n            scale: 0\n          },\n          animate: {\n            scale: 1\n          },\n          transition: {\n            type: \"spring\",\n            stiffness: 300,\n            damping: 20\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_s(ReplayMode, \"pUj6f9tKtH3H/5Zu7u9goy/cmJw=\");\n_c = ReplayMode;\nvar _c;\n$RefreshReg$(_c, \"ReplayMode\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useRef","motion","AnimatePresence","jsxDEV","_jsxDEV","REPLAY_OPTIONS","id","name","ReplayMode","isMobile","selectedId","setSelectedId","status","setStatus","messages","setMessages","isRunning","setIsRunning","startTime","setStartTime","scrollRef","latestCoord","setLatestCoord","coordHistory","setCoordHistory","gridRef","startReplay","Date","now","fetch","method","headers","body","JSON","stringify","index","then","res","json","data","success","catch","err","clearLog","interval","setInterval","prev","updated","map","msg","timestamp","toFixed","lastUpdate","reverse","find","m","type","correctedCoord","x","y","z","time","done","clearInterval","current","scrollTop","scrollHeight","length","filter","coord","coordToPixel","gridWidth","clientWidth","gridHeight","clientHeight","normalizedX","pixelX","normalizedY","pixelY","div","className","initial","opacity","animate","transition","duration","children","fileName","lineNumber","columnNumber","option","button","onClick","disabled","whileHover","scale","whileTap","ref","i","message","Array","from","_","pos","style","left","top","stiffness","damping","_c","$RefreshReg$"],"sources":["/Users/matthewlones/Documents/flask-react-app/frontend-final/src/components/ReplayMode.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\n\nconst REPLAY_OPTIONS = [\n  { id: 0, name: \"Harvest the Plant\" },\n  { id: 1, name: \"Draw a Circle\" },\n  { id: 2, name: \"Wave Hello\" },\n]\n\nexport default function ReplayMode({ isMobile }) {\n  const [selectedId, setSelectedId] = useState(null)\n  const [status, setStatus] = useState(\"Idle\")\n  const [messages, setMessages] = useState([])\n  const [isRunning, setIsRunning] = useState(false)\n  const [startTime, setStartTime] = useState(null)\n  const scrollRef = useRef(null)\n  const [latestCoord, setLatestCoord] = useState(null)\n  const [coordHistory, setCoordHistory] = useState([])\n  const gridRef = useRef(null)\n\n  const startReplay = () => {\n    if (selectedId === null) return\n\n    setStatus(\"Sending replay request...\")\n    setMessages([])\n    setCoordHistory([])\n    setLatestCoord(null)\n    setIsRunning(true)\n    setStartTime(Date.now())\n\n    fetch(\"/api/start-replay\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ index: selectedId }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success) {\n          setStatus(\"Replay started!\")\n        } else {\n          setStatus(\"‚ùå Failed to start replay.\")\n          setIsRunning(false)\n        }\n      })\n      .catch((err) => {\n        setStatus(\"‚ùå Error contacting server.\")\n        setIsRunning(false)\n      })\n  }\n\n  const clearLog = () => {\n    setMessages([])\n    setCoordHistory([])\n  }\n\n  useEffect(() => {\n    if (!isRunning) return\n\n    const interval = setInterval(() => {\n      fetch(\"/api/replay-status\")\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.messages) {\n            setMessages((prev) => {\n              const updated = [\n                ...prev,\n                ...data.messages.map((msg) => ({\n                  ...msg,\n                  timestamp: ((Date.now() - startTime) / 1000).toFixed(2) + \"s\",\n                })),\n              ]\n\n              // Find coordinate updates\n              const lastUpdate = data.messages.reverse().find((m) => m.type === \"update\");\n              if (lastUpdate && lastUpdate.data) {\n                const correctedCoord = {\n                  x: lastUpdate.data.y, // üîÅ Swapped\n                  y: lastUpdate.data.x, // üîÅ Swapped\n                  z: lastUpdate.data.z,\n                  time: Date.now(),\n                };\n                setLatestCoord(correctedCoord);\n                setCoordHistory((prev) => [...prev, correctedCoord]);\n              }\n\n              return updated\n            })\n          }\n          if (data.done) {\n            setStatus(\"‚úÖ Replay complete.\")\n            setIsRunning(false)\n            clearInterval(interval)\n          }\n        })\n        .catch((err) => {\n          setStatus(\"‚ùå Error polling status\")\n          setIsRunning(false)\n          clearInterval(interval)\n        })\n    }, 100)\n\n    return () => clearInterval(interval)\n  }, [isRunning, startTime])\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight\n    }\n  }, [messages])\n\n  // Clean up old coordinate history points\n  useEffect(() => {\n    if (coordHistory.length > 10) {\n      const now = Date.now()\n      setCoordHistory((prev) => prev.filter((coord) => now - coord.time < 3000))\n    }\n  }, [coordHistory])\n\n  // Convert grid coordinates to pixel positions\n  const coordToPixel = (x, y) => {\n    // Map x from [-30, 30] to [0, 100%] of grid width\n    // Map y from [0, 40] to [100%, 0] of grid height (inverted y-axis)\n\n    if (!gridRef.current) return { x: 0, y: 0 }\n\n    const gridWidth = gridRef.current.clientWidth\n    const gridHeight = gridRef.current.clientHeight\n\n    // Convert x from [-30, 30] to [0, 1] then to pixels\n    const normalizedX = (x + 30) / 60\n    const pixelX = normalizedX * gridWidth\n\n    // Convert y from [0, 40] to [1, 0] then to pixels (inverted)\n    const normalizedY = 1 - y / 40\n    const pixelY = normalizedY * gridHeight\n\n    return { x: pixelX, y: pixelY }\n  }\n\n  return (\n    <motion.div \n      className=\"bg-gradient-to-t from-black to-blue-950/90 border border-blue-500/30 shadow-2xl rounded-lg p-4 md:p-6 space-y-4 md:space-y-6 font-display\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <h2 className=\"text-xl md:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 tracking-wide text-center\">\n        Replay Mode\n      </h2>\n\n      <div className=\"space-y-2\">\n        {REPLAY_OPTIONS.map((option) => (\n          <motion.button\n            key={option.id}\n            onClick={() => setSelectedId(option.id)}\n            className={`block w-full text-left px-4 py-3 rounded-lg transition shadow-md border text-sm font-bold\n              ${\n                selectedId === option.id\n                  ? \"bg-gradient-to-r from-blue-800 to-blue-900 text-white border-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.5)]\"\n                  : \"bg-blue-950/80 hover:bg-blue-900/60 border-blue-500/20 hover:border-blue-500/40\"\n              }`}\n            disabled={isRunning}\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n          >\n            {option.name}\n          </motion.button>\n        ))}\n      </div>\n\n      <motion.button\n        onClick={startReplay}\n        disabled={selectedId === null || isRunning}\n        className=\"w-full mt-4 bg-gradient-to-r from-green-600 to-emerald-700 hover:from-green-500 hover:to-emerald-600 text-white font-bold py-3 px-4 rounded-lg disabled:opacity-50 shadow-lg shadow-green-900/50 hover:shadow-green-500/30 hover:shadow-[0_0_20px_rgba(16,185,129,0.6)] disabled:shadow-none\"\n        whileHover={{ scale: 1.02 }}\n        whileTap={{ scale: 0.98 }}\n      >\n        {isRunning ? \"Running...\" : \"Start Replay\"}\n      </motion.button>\n\n      <motion.button\n        onClick={clearLog}\n        className=\"w-full bg-gradient-to-r from-red-700 to-red-800 hover:from-red-600 hover:to-red-700 text-white py-2 px-2 mt-2 rounded-lg shadow-md shadow-red-900/50 hover:shadow-red-500/30 hover:shadow-[0_0_15px_rgba(239,68,68,0.5)] font-bold\"\n        disabled={messages.length === 0}\n        whileHover={{ scale: 1.02 }}\n        whileTap={{ scale: 0.98 }}\n      >\n        Clear Log\n      </motion.button>\n\n      <div\n        className=\"mt-4 p-3 md:p-4 bg-black/80 rounded-lg text-sm max-h-48 md:max-h-64 overflow-y-auto border border-blue-500/30 shadow-inner\"\n        ref={scrollRef}\n      >\n        <p className=\"font-bold text-cyan-300 mb-2\">Replay Status:</p>\n        <ul className=\"space-y-1 text-blue-100\">\n          {messages.map((msg, i) => {\n            if (msg.type === \"update\" && msg.data) {\n              // Swap x and y for display\n              const { x: y, y: x, z } = msg.data;\n              return (\n                <li key={i} className=\"flex items-center space-x-2\">\n                  <span className=\"text-gray-400\">üïí</span>\n                  <span className=\"text-cyan-200\">{msg.timestamp}</span>\n                  <span className=\"text-gray-400\">‚û§</span>\n                  <span className=\"text-green-300 font-mono\">\n                    x: {x}, y: {y}, z: {z}\n                  </span>\n                </li>\n              );\n            }\n            \n            if (msg.type === \"bounds\") {\n              return (\n                <li key={i} className=\"text-yellow-300 flex items-center space-x-2\">\n                  <span className=\"text-gray-400\">üïí</span>\n                  <span className=\"text-cyan-200\">{msg.timestamp}</span>\n                  <span className=\"text-yellow-300\">‚ö†Ô∏è Out of bounds!</span>\n                </li>\n              )\n            }\n            if (msg.type === \"done\") {\n              return (\n                <li key={i} className=\"text-green-400 font-semibold flex items-center space-x-2\">\n                  <span className=\"text-gray-400\">üïí</span>\n                  <span className=\"text-cyan-200\">{msg.timestamp}</span>\n                  <span className=\"text-green-400\">‚úÖ Replay Complete</span>\n                </li>\n              )\n            }\n            if (msg.type === \"error\") {\n              return (\n                <li key={i} className=\"text-red-400 flex items-center space-x-2\">\n                  <span className=\"text-gray-400\">üïí</span>\n                  <span className=\"text-cyan-200\">{msg.timestamp}</span>\n                  <span className=\"text-red-400\">‚ùå Error: {msg.message}</span>\n                </li>\n              )\n            }\n            return (\n              <li key={i} className=\"text-gray-400 italic flex items-center space-x-2\">\n                <span>üïí</span>\n                <span className=\"text-cyan-200\">{msg.timestamp}</span>\n                <span>{JSON.stringify(msg)}</span>\n              </li>\n            )\n          })}\n        </ul>\n        <p className=\"mt-2 italic text-xs text-cyan-300\">Status: {status}</p>\n      </div>\n\n      <div className=\"mt-4 bg-black/80 p-3 md:p-4 rounded-lg shadow-xl relative border border-blue-500/30\">\n        <p className=\"font-bold text-sm text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400 mb-2\">\n          Live Position Grid (x vs y in cm)\n        </p>\n        <div \n          ref={gridRef}\n          className=\"w-full h-48 md:h-64 bg-blue-950/50 rounded-lg relative border border-blue-500/30 overflow-hidden\"\n        >\n          {/* Grid lines */}\n          <div className=\"absolute inset-0 grid grid-cols-6 grid-rows-4\">\n            {Array.from({ length: 7 }).map((_, i) => (\n              <div key={`v-${i}`} className=\"border-r border-blue-500/20\"></div>\n            ))}\n            {Array.from({ length: 5 }).map((_, i) => (\n              <div key={`h-${i}`} className=\"border-b border-blue-500/20\"></div>\n            ))}\n          </div>\n          \n          {/* Coordinate labels */}\n          <div className=\"absolute bottom-0 left-0 right-0 flex justify-between px-2 text-xs text-blue-300/70\">\n            <span>-30</span>\n            <span>-20</span>\n            <span>-10</span>\n            <span>0</span>\n            <span>10</span>\n            <span>20</span>\n            <span>30</span>\n          </div>\n          <div className=\"absolute top-0 left-0 bottom-0 flex flex-col justify-between py-2 text-xs text-blue-300/70\">\n            <span>40</span>\n            <span>30</span>\n            <span>20</span>\n            <span>10</span>\n            <span>0</span>\n          </div>\n          \n          {/* Position history */}\n          {coordHistory.map((coord, i) => {\n            const pos = coordToPixel(coord.x, coord.y);\n            return (\n              <motion.div\n                key={i}\n                className=\"absolute w-2 h-2 bg-blue-400 rounded-full\"\n                style={{ left: pos.x - 4, top: pos.y - 4 }}\n                initial={{ opacity: 0, scale: 0 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ duration: 0.3 }}\n              />\n            );\n          })}\n          \n          {/* Current position */}\n          {latestCoord && (\n            <motion.div\n              className=\"absolute w-4 h-4 bg-green-400 rounded-full shadow-lg shadow-green-500/50\"\n              style={{ \n                left: coordToPixel(latestCoord.x, latestCoord.y).x - 8, \n                top: coordToPixel(latestCoord.x, latestCoord.y).y - 8 \n              }}\n              initial={{ scale: 0 }}\n              animate={{ scale: 1 }}\n              transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n            />\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}